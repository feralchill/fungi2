---
import Layout from '../layouts/Layout.astro';
---

<Layout title="The Fungi Consultant - Home" currentPage="/">
  <div class="home-content">
    <!-- Video Section -->
    <div class="video-container">
      <video
        id="heroVideo"
        autoplay
        muted
        loop
        playsinline
        webkit-playsinline
        preload="metadata"
        disablepictureinpicture
        class="hero-video"
      >
        <source src="https://raw.githubusercontent.com/feralchill/fungi/main/video1.mov" type="video/quicktime">
        <source src="https://raw.githubusercontent.com/feralchill/fungi/main/video1.mov" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>

    <!-- Intro Text and Image -->
    <div class="intro-container">
      <div class="intro-text">
        Welcome to <span class="brand-name">The Fungi Consultant</span>: coaching, workshops and one-to-one consultation for individuals and organisations ready to discover the power of functional mushrooms.<br><br>
        Our services can match you with the natural solutions best suited to your lifestyle, and provide a <span class="brand-name">gold standard</span> of quality, trust and traceability to brands entering the functional mushroom industry.<br><br>
        <a href="/about" class="intro-link">Find out more</a> about our services, or <a href="/booking" class="intro-link">book a consultation</a> today.
      </div>
      <img loading="lazy" src="https://raw.githubusercontent.com/feralchill/fungi/main/IMG_5963.png" class="intro-image" alt="">
    </div>

    <!-- Finish Section -->
    <div class="finish-container">
      <div class="finish-text">
        <span class="brand-name">The Fungi Consultant</span> est. 2024
      </div>
      <div class="footer-text-small">
        <a href="https://anthosponda.art" target="_blank" class="finish-link">site summoned by Ã¦lfryth</a>
      </div>
    </div>
  </div>
</Layout>

<style>
@import url('https://fonts.googleapis.com/css2?family=Literata:wght@500&family=Abril+Fatface&family=Almendra+Display&display=swap');

.home-content {
  max-width: 100%;
  margin: 0 auto;
}

/* Video Container */
.video-container {
  width: 60%;
  margin: 15px auto 20px;
  text-align: center;
}

.hero-video {
  width: 100%;
  max-width: 100%;
  aspect-ratio: 2 / 1;
  object-fit: cover;
  border: 0.5px solid #b6c2a0;
  border-radius: 8px;
  opacity: 0.8;
}

/* Intro Container */
.intro-container {
  max-width: 800px;
  margin: 10px auto;
  padding: 10px;
  text-align: center;
}

.intro-text {
  font-family: 'Literata', serif;
  font-weight: 500;
  font-size: 1.1em;
  line-height: 1.7;
  color: #52515c;
  margin-bottom: 60px;
}

.intro-text .brand-name {
  font-family: 'Abril Fatface', serif;
  font-weight: bold;
}

.intro-link {
  color: #b6c2a0;
  text-decoration: underline;
  font-family: 'Abril Fatface', serif;
  font-weight: bold;
  transition: all 0.3s ease;
}

.intro-link:hover {
  color: #9a89a4;
  text-decoration: underline;
}

.intro-link:active {
  color: #9a89a4;
  text-decoration: underline;
}

.intro-link:visited {
  color: #b6c2a0;
  text-decoration: underline;
}

.intro-image {
  width: 100vw;
  max-width: none;
  height: auto;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
  display: block;
}

/* Finish Container */
.finish-container {
  max-width: 800px;
  margin: 0px auto;
  margin-bottom: 0px auto;
  padding: 10px;
  text-align: center;
}

.finish-text {
  font-family: 'Literata', serif;
  font-weight: 500;
  font-size: 0.8em;
  line-height: 1.5;
  color: #52515c;
  margin-bottom: 10px;
}

.finish-text .brand-name {
  font-family: 'Abril Fatface', serif;
}

.finish-link {
  color: #b6c2a0;
  font-family: 'Almendra Display', serif;
  font-size: 1em;
  font-weight: bold;
  opacity: 1;
  transition: all 0.3s ease;
}

.finish-link:hover {
  color: #4e625c;
  font-weight: bold;
  opacity: 1;
  text-decoration: underline;
}

.finish-link:active {
  color: #9a89a4;
  font-weight: bold;
  opacity: 1;
  text-decoration: none;
}

.finish-link:visited {
  color: #b6c2a0;
  font-weight: bold;
  opacity: 1;
}

.footer-text-small {
  font-family: 'Almendra Display', serif;
  font-size: 0.7em;
  color: #b6c2a0;
  margin-bottom: 60px;
}

@media (max-width: 1024px) {
  .video-container {
    width: 100vw;
    position: relative;
    left: 50%;
    right: 50%;
    margin-left: -50vw;
    margin-right: -50vw;
    margin-top: 0;
    margin-bottom: 15px;
  }

  .hero-video {
    border: none;
    border-radius: 0;
  }

  .intro-container {
    padding: 20px 15px;
    margin: 4px auto;
  }

  .intro-text {
    font-size: 0.95em;
  }
}

/* Landscape tablet/mobile - inherit mobile font sizes */
@media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape),
       (min-width: 768px) and (max-width: 1024px) and (max-height: 500px) {
  /* Mobile font sizes already apply via max-width: 1024px media query */
}
</style>

<script is:inline>
(function() {
  function playVideo() {
    const video = document.getElementById('heroVideo');
    if (video) {
      video.muted = true;
      video.setAttribute('muted', '');
      video.defaultMuted = true;
      video.playbackRate = 0.75;
      video.play().catch(function(error) {
        // Retry after a short delay
        setTimeout(function() {
          video.play().catch(function() {});
        }, 500);
      });
    }
  }

  // Try playing on multiple events
  document.addEventListener('DOMContentLoaded', playVideo);
  window.addEventListener('load', playVideo);

  // Also try when the video can play
  const video = document.getElementById('heroVideo');
  if (video) {
    video.addEventListener('canplay', playVideo);
    video.addEventListener('loadeddata', playVideo);
  }
})();
</script>
