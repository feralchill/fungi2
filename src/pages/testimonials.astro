---
import Layout from '../layouts/Layout.astro';
---

<Layout title="The Fungi Consultant - Testimonials" currentPage="/testimonials">
  <div class="testimonials-content">
    <h1 class="page-heading">Testimonials</h1>
    <p class="page-intro">Read what some of our clients have had to say about our services; and <a href="mailto:oligennbash@thefungiconsultant.com" class="intro-link">let us know</a> if you'd like to share your experience!</p>

    <!-- Toggle Buttons -->
    <div class="testimonial-tabs-container">
      <button class="testimonial-tab active" onclick="switchTestimonialTab(1)">Brand Testimonials</button>
      <button class="testimonial-tab" onclick="switchTestimonialTab(2)">Individual Testimonials</button>
    </div>

    <!-- Brand Testimonials Wrapper -->
    <div class="testimonial-wrapper active" id="brand-testimonials">
      <!-- Card Stack -->
      <div class="card-stack" id="brandCardStack">
        <!-- Brand Card 1 - Green -->
        <div class="testimonial-card card-green" data-index="0">
          <div class="card-inner">
            <p class="quote-text">"Working with Oli has been such a positive experience. He has really supported us throughout the whole process, keeping us well informed and making everything feel straightforward. His depth of knowledge about mushrooms is incredible, and he shared it in a way that was easy to understand and genuinely helpful. We felt in very safe hands and are so grateful for all of his guidance and support"</p>
            <p class="quote-author">— Full Circle Healing</p>
          </div>
        </div>

        <!-- Brand Card 2 - Purple -->
        <div class="testimonial-card card-purple" data-index="1">
          <div class="card-inner">
            <p class="quote-text">"Working with Oli Genn Bash was an incredibly insightful and valuable experience for our team at Karma Tea Co. From the outset, Oli demonstrated deep expertise in functional mushrooms and a clear understanding of how to apply that knowledge in a commercial food and beverage context- specifically within the HORECA space, which is crucial for our brand.</p>
            <p class="quote-text">The consultation notes provided were detailed, well-organized, and tailored to our needs. Overall, Oli's approach was strategic, grounded in both science and market practicality, and collaborative. He asked the right questions to tailor his recommendations to our goals.</p>
            <p class="quote-text">We highly recommend Oli to any brand looking to thoughtfully and effectively integrate functional mushrooms into their product range"</p>
            <p class="quote-author">— Karma Tea Co.</p>
          </div>
        </div>

        <!-- Brand Card 3 - Teal -->
        <div class="testimonial-card card-teal" data-index="2">
          <div class="card-inner">
            <p class="quote-text">"The world of functional mushrooms represents an opportunity to work towards integrating the best of traditional ancestral practices with modern scientific research, and the Fungi Consultant is positioned at the vanguard of this synthesis…. Even within the mushroom community and industry, there are many misunderstandings and disagreements about best practices, and so the advocacy and consultations from The Fungi Consultant are all the more important in advancing our collective understanding of mushroom medicine."</p>
            <p class="quote-author">— Mycopreneur Global Hub for Mushroom Innovation</p>
          </div>
        </div>
      </div>

      <!-- Navigation Arrows -->
      <button class="arrow prev-arrow" id="brandPrevArrow" aria-label="Previous testimonial"></button>
      <button class="arrow next-arrow" id="brandNextArrow" aria-label="Next testimonial"></button>

      <!-- Navigation Dots -->
      <div class="testimonial-dots" id="brandDots">
        <button class="testimonial-dot active" data-index="0"></button>
        <button class="testimonial-dot" data-index="1"></button>
        <button class="testimonial-dot" data-index="2"></button>
      </div>
    </div>

    <!-- Individual Testimonials Wrapper -->
    <div class="testimonial-wrapper" id="individual-testimonials">
      <!-- Card Stack -->
      <div class="card-stack" id="individualCardStack">
        <!-- Individual Card 1 - Green -->
        <div class="testimonial-card card-green" data-index="0">
          <div class="card-inner">
            <p class="quote-text">"I thought it might be interesting, but what I didn't expect was just how insightful, kind, and genuinely supportive Oli would be. From the moment we started, Oli was immediately approachable, and the conversation flowed easily. It wasn't just a typical consultation; he took the time to really explore my physiology and philosophy in a way that felt incredibly personal and thoughtful. I've rarely encountered a consultant who clearly knows his stuff as well as Oli does. He's read extensively, can talk you through the peer-reviewed science without a hitch, and most importantly, he listens."</p>
            <p class="quote-author">— Patrick, Brighton</p>
          </div>
        </div>

        <!-- Card 2 - Purple -->
        <div class="testimonial-card card-purple" data-index="1">
          <div class="card-inner">
            <p class="quote-text">"I really enjoyed my session with Oli! He was really enthusiastic, listened deeply to the areas I wanted to address with functional mushrooms, and shared his deep and complex knowledge in an accessible way. I've since ordered some Lion's Mane and Reishi capsules and am really enjoying them already!"</p>
            <p class="quote-author">— Eve, Kent</p>
          </div>
        </div>

        <!-- Card 3 - Teal -->
        <div class="testimonial-card card-teal" data-index="2">
          <div class="card-inner">
            <p class="quote-text">"Oli is very knowledgeable about the properties of a large array of mushrooms, and is skilled at assessing physical or psychological tensions. He is able to confidently suggest fungal supplements to alleviate discomfort. But obviously it is not all about treatment of symptoms; Oli pursues a holistic approach towards the maintenance and enhancement of health, and in this regard may recommend fungi or supplements towards this objective. Beyond everything else, Oli is a patient sympathetic listener, a keen observer, and a wise counsel on how to remain hale and hearty within this jagged age of modernity."</p>
            <p class="quote-author">— William, Canterbury</p>
          </div>
        </div>

        <!-- Card 4 - Dark -->
        <div class="testimonial-card card-dark" data-index="3">
          <div class="card-inner">
            <p class="quote-text">"Oli has a very relaxed and joyful personality, which puts you at ease and helps you feel more comfortable. He has good knowledge of fungi, as well as other natural supplements and adaptogens. It's clear to see his passion for this topic, and we've had some interesting conversations about mushrooms and plants. I've heard great feedback about his group workshops which I hope to attend one day!"</p>
            <p class="quote-author">— Grace, Brighton</p>
          </div>
        </div>

        <!-- Card 5 - Green -->
        <div class="testimonial-card card-green" data-index="4">
          <div class="card-inner">
            <p class="quote-text">"It was good to have an informal talk both about micro and macrodosing as well as advice on cultivation. The practicalities of cultivation skills was covered sufficiently, as was the microdosing regime. Some information on different species was covered and some on non-regulated other mushrooms that could assist in a general health outline. All my questions were covered, and I was very grateful for the information. It was good to also exchange experiences to put things in perspective. It was good that you asked me in advance what I wanted to know - another person might be different."</p>
            <p class="quote-author">— Ole, Brighton</p>
          </div>
        </div>

        <!-- Card 6 - Purple -->
        <div class="testimonial-card card-purple" data-index="5">
          <div class="card-inner">
            <p class="quote-text">"Oli was really knowledgeable about the world of functional mushrooms. I discussed what I wanted from them and what I'd already tried. He was able to explain what to look for and recommended some trusted products and shops."</p>
            <p class="quote-author">— Kieron, Alton</p>
          </div>
        </div>
      </div>

      <!-- Navigation Arrows -->
      <button class="arrow prev-arrow" id="individualPrevArrow" aria-label="Previous testimonial"></button>
      <button class="arrow next-arrow" id="individualNextArrow" aria-label="Next testimonial"></button>

      <!-- Navigation Dots -->
      <div class="testimonial-dots" id="individualDots">
        <button class="testimonial-dot active" data-index="0"></button>
        <button class="testimonial-dot" data-index="1"></button>
        <button class="testimonial-dot" data-index="2"></button>
        <button class="testimonial-dot" data-index="3"></button>
        <button class="testimonial-dot" data-index="4"></button>
        <button class="testimonial-dot" data-index="5"></button>
      </div>
    </div>

    <!-- Bottom Image -->
    <img src="https://raw.githubusercontent.com/feralchill/fungi/main/IMG_6018.png" class="bottom-image" alt="">

    <!-- Finish Section -->
    <div class="finish-container">
      <div class="finish-text">
        <span class="brand-name">The Fungi Consultant</span> est. 2024
      </div>
      <div class="footer-text-small">
        <a href="https://anthosponda.art" target="_blank" class="finish-link">site summoned by ælfryth</a>
      </div>
    </div>
  </div>
</Layout>

<style>
@import url('https://fonts.googleapis.com/css2?family=Literata:wght@400;500&family=Abril+Fatface&display=swap');

.testimonials-content {
  max-width: 900px;
  margin: 0 auto;
  padding: 0 20px;
}

.page-heading {
  font-family: 'Abril Fatface', serif;
  font-size: 2.5em;
  color: #b6c2a0;
  text-align: center;
  margin-top: 40px;
  margin-bottom: 30px;
}

.page-intro {
  font-family: 'Literata', serif;
  font-weight: 400;
  font-size: 0.95em;
  line-height: 1.6;
  color: #52515c;
  text-align: center;
  margin-bottom: 40px;
}

.intro-link {
  color: #b6c2a0;
  text-decoration: underline;
  font-family: 'Abril Fatface', serif;
  transition: all 0.3s ease;
}

.intro-link:hover {
  color: #9a89a4;
}

.intro-link:visited {
  color: #b6c2a0;
}

/* Testimonial Tabs */
.testimonial-tabs-container {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-bottom: 40px;
  flex-wrap: wrap;
}

.testimonial-tab {
  font-family: 'Abril Fatface', serif;
  font-size: 1.15em;
  padding: 16px 35px;
  background: linear-gradient(180deg,
    #ffffff 0%,
    #f9f9f7 15%,
    #f9f9f7 85%,
    #e8e8e4 100%);
  border: 1px solid #b6c2a0;
  border-radius: 50px;
  cursor: pointer;
  transition: all 0.2s ease;
  color: #52515c;
  white-space: nowrap;
  flex: 0 1 auto;
  box-shadow:
    0 4px 6px rgba(0, 0, 0, 0.1),
    0 1px 3px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.8),
    inset 0 -1px 0 rgba(0, 0, 0, 0.05);
}

.testimonial-tab:hover {
  background: linear-gradient(180deg,
    #ffffff 0%,
    #fcfcfa 15%,
    #fcfcfa 85%,
    #ececea 100%);
  transform: translateY(-1px);
  box-shadow:
    0 6px 10px rgba(0, 0, 0, 0.12),
    0 2px 4px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.9),
    inset 0 -1px 0 rgba(0, 0, 0, 0.05);
}

.testimonial-tab.active {
  background: linear-gradient(180deg,
    #8b7f99 0%,
    #746a7c 15%,
    #63596a 85%,
    #524858 100%);
  border: 1px solid #b39dc4;
  color: #efefed;
  box-shadow:
    0 0 12px rgba(154, 137, 164, 0.4),
    0 4px 6px rgba(99, 89, 106, 0.3),
    0 1px 3px rgba(99, 89, 106, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3),
    inset 0 -1px 0 rgba(0, 0, 0, 0.1);
}

/* Wrapper */
.testimonial-wrapper {
  display: none;
  position: relative;
  width: 100vw;
  margin-left: calc(-50vw + 50%);
  padding: 0 0 40px;
}

.testimonial-wrapper.active {
  display: block;
}

/* Card Stack Container */
.card-stack {
  position: relative;
  width: 100%;
  max-width: 800px;
  height: 580px;
  margin: 0 auto;
  perspective: 1000px;
}

/* Individual Cards */
.testimonial-card {
  position: absolute;
  top: 0;
  left: 50%;
  width: 85%;
  max-width: 700px;
  height: 100%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  opacity: 0;
  pointer-events: none;
  background: #efefed;
}

.card-inner {
  padding: 50px 60px;
  text-align: center;
  max-width: 100%;
}

/* Card States */
.testimonial-card.active {
  opacity: 1;
  z-index: 30;
  pointer-events: auto;
  transform: translateX(-50%) scale(1);
}

.testimonial-card.prev {
  opacity: 1;
  z-index: 20;
  transform: translateX(calc(-50% - 60px)) scale(0.92);
  pointer-events: none;
}

.testimonial-card.next {
  opacity: 1;
  z-index: 20;
  transform: translateX(calc(-50% + 60px)) scale(0.92);
  pointer-events: none;
}

.quote-text,
.quote-author {
  color: #52515c;
}


/* Quote Styling */
.quote-text {
  font-family: 'Literata', serif;
  font-size: 1.05em;
  line-height: 1.9;
  margin-bottom: 25px;
}

.quote-author {
  font-family: 'Abril Fatface', serif;
  font-size: 1.15em;
  text-align: right;
}

/* Arrows */
.arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 50px;
  height: 50px;
  background: linear-gradient(180deg,
    #ffffff 0%,
    #f9f9f7 15%,
    #f9f9f7 85%,
    #e8e8e4 100%);
  border: 1px solid #b6c2a0;
  border-radius: 50%;
  cursor: pointer;
  z-index: 40;
  transition: all 0.3s ease;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  box-shadow:
    0 4px 6px rgba(0, 0, 0, 0.1),
    0 1px 3px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.8),
    inset 0 -1px 0 rgba(0, 0, 0, 0.05);
}

.prev-arrow {
  left: calc(50% - 480px);
}

.next-arrow {
  right: calc(50% - 480px);
}

.arrow:hover {
  transform: translateY(-50%) scale(1.1);
  background: linear-gradient(180deg,
    #ffffff 0%,
    #fcfcfa 15%,
    #fcfcfa 85%,
    #ececea 100%);
  box-shadow:
    0 6px 10px rgba(0, 0, 0, 0.12),
    0 2px 4px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.9),
    inset 0 -1px 0 rgba(0, 0, 0, 0.05);
}

.arrow.hidden {
  opacity: 0;
  pointer-events: none;
}

/* Arrow Icons */
.arrow::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 12px;
  height: 12px;
  border-top: 3px solid #9a89a4;
}

.prev-arrow::before {
  border-left: 3px solid #9a89a4;
  transform: translate(-30%, -50%) rotate(-45deg);
}

.next-arrow::before {
  border-right: 3px solid #9a89a4;
  transform: translate(-70%, -50%) rotate(45deg);
}

/* Dots */
.testimonial-dots {
  display: flex;
  justify-content: center;
  gap: 12px;
  margin-top: 30px;
}

.testimonial-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: transparent;
  border: 1px solid #b6c2a0;
  cursor: pointer;
  transition: all 0.3s ease;
}

.testimonial-dot:hover {
  background: rgba(182, 194, 160, 0.4);
}

.testimonial-dot.active {
  background: #63596a;
  border-color: #63596a;
}

/* Footer */
.bottom-image {
  width: 100%;
  max-width: 400px;
  margin: 60px auto 0;
  display: block;
}

.finish-container {
  padding: 10px;
  text-align: center;
}

.finish-text {
  font-family: 'Literata', serif;
  font-size: 0.8em;
  color: #52515c;
  margin-bottom: 10px;
}

.brand-name {
  font-family: 'Abril Fatface', serif;
}

.finish-link {
  color: #b6c2a0;
  font-family: 'Almendra Display', serif;
  font-weight: bold;
  transition: color 0.3s;
}

.finish-link:hover {
  color: #4e625c;
  text-decoration: underline;
}

.footer-text-small {
  font-family: 'Almendra Display', serif;
  font-size: 0.7em;
  color: #b6c2a0;
  margin-bottom: 60px;
}

/* Desktop enhancements */
@media (min-width: 769px) {
  .card-stack {
    height: 580px;
  }

  .testimonial-card {
    background: linear-gradient(180deg,
      #ffffff 0%,
      #f9f9f7 15%,
      #f9f9f7 85%,
      #e8e8e4 100%);
    border: 1px solid #9a89a4;
    border-radius: 16px;
    box-shadow:
      0 8px 16px rgba(154, 137, 164, 0.25),
      0 4px 8px rgba(154, 137, 164, 0.15),
      inset 0 1px 0 rgba(255, 255, 255, 0.8),
      inset 0 -1px 0 rgba(0, 0, 0, 0.05);
    height: 580px;
  }

  .card-inner {
    display: flex;
    flex-direction: column;
    justify-content: center;
    height: 100%;
  }
}

/* Mobile */
@media (max-width: 900px) {
  .prev-arrow {
    left: 20px;
  }

  .next-arrow {
    right: 20px;
  }
}

@media (max-width: 1024px) {
  .page-heading {
    font-size: 2em;
    margin-top: 20px;
    margin-bottom: 20px;
  }

  .page-intro {
    font-size: 0.85em;
    padding: 0 10px;
    margin-bottom: 22px;
  }

  .testimonial-tabs-container {
    flex-direction: row;
    gap: 10px;
    margin-bottom: 30px;
  }

  .testimonial-tab {
    font-size: 1em;
    padding: 14px 24px;
    flex: 1;
  }

  .card-stack {
    height: auto;
    min-height: 400px;
  }

  .testimonial-card {
    width: calc(100% - 100px);
    height: auto;
  }

  .card-inner {
    padding: 30px 15px;
  }

  .quote-text {
    font-size: 0.75em;
  }

  .quote-author {
    font-size: 1em;
    text-align: center;
  }

  .testimonial-card.prev {
    transform: translateX(calc(-50% - 20px)) scale(0.95);
    opacity: 0;
  }

  .testimonial-card.next {
    transform: translateX(calc(-50% + 20px)) scale(0.95);
    opacity: 0;
  }

  .arrow {
    width: 36px;
    height: 36px;
  }

  .prev-arrow {
    left: 5px;
  }

  .next-arrow {
    right: 5px;
  }

  .bottom-image {
    max-width: 200px;
    margin-top: 40px;
  }
}
</style>

<script is:inline>
function switchTestimonialTab(tabNumber) {
  // Remove active class from all tabs and wrappers
  document.querySelectorAll('.testimonial-tab').forEach(tab => tab.classList.remove('active'));
  document.querySelectorAll('.testimonial-wrapper').forEach(wrapper => wrapper.classList.remove('active'));

  // Add active class to selected tab and wrapper
  document.querySelectorAll('.testimonial-tab')[tabNumber - 1].classList.add('active');
  if (tabNumber === 1) {
    document.getElementById('brand-testimonials').classList.add('active');
  } else {
    document.getElementById('individual-testimonials').classList.add('active');
  }
}

document.addEventListener('DOMContentLoaded', function() {
  // Brand testimonials deck
  const brandCards = document.querySelectorAll('#brandCardStack .testimonial-card');
  const brandDots = document.querySelectorAll('#brandDots .testimonial-dot');
  const brandPrevArrow = document.getElementById('brandPrevArrow');
  const brandNextArrow = document.getElementById('brandNextArrow');

  let brandCurrent = 0;
  const brandTotal = brandCards.length;

  function updateBrandCards() {
    brandCards.forEach((card, i) => {
      card.classList.remove('active', 'prev', 'next');

      if (i === brandCurrent) {
        card.classList.add('active');
      } else if (i === brandCurrent - 1) {
        card.classList.add('prev');
      } else if (i === brandCurrent + 1) {
        card.classList.add('next');
      }
    });

    brandDots.forEach((dot, i) => {
      dot.classList.toggle('active', i === brandCurrent);
    });

    brandPrevArrow.classList.toggle('hidden', brandCurrent === 0);
    brandNextArrow.classList.toggle('hidden', brandCurrent === brandTotal - 1);

    // Adjust card-stack height on mobile
    if (window.innerWidth <= 1024) {
      const activeCard = brandCards[brandCurrent];
      const cardStack = document.getElementById('brandCardStack');
      if (activeCard && cardStack) {
        setTimeout(() => {
          const cardHeight = activeCard.scrollHeight;
          cardStack.style.height = cardHeight + 'px';
        }, 50);
      }
    }
  }

  brandPrevArrow.addEventListener('click', () => {
    if (brandCurrent > 0) {
      brandCurrent--;
      updateBrandCards();
    }
  });

  brandNextArrow.addEventListener('click', () => {
    if (brandCurrent < brandTotal - 1) {
      brandCurrent++;
      updateBrandCards();
    }
  });

  brandDots.forEach((dot, i) => {
    dot.addEventListener('click', () => {
      brandCurrent = i;
      updateBrandCards();
    });
  });

  // Individual testimonials deck
  const individualCards = document.querySelectorAll('#individualCardStack .testimonial-card');
  const individualDots = document.querySelectorAll('#individualDots .testimonial-dot');
  const individualPrevArrow = document.getElementById('individualPrevArrow');
  const individualNextArrow = document.getElementById('individualNextArrow');

  let individualCurrent = 0;
  const individualTotal = individualCards.length;

  function updateIndividualCards() {
    individualCards.forEach((card, i) => {
      card.classList.remove('active', 'prev', 'next');

      if (i === individualCurrent) {
        card.classList.add('active');
      } else if (i === individualCurrent - 1) {
        card.classList.add('prev');
      } else if (i === individualCurrent + 1) {
        card.classList.add('next');
      }
    });

    individualDots.forEach((dot, i) => {
      dot.classList.toggle('active', i === individualCurrent);
    });

    individualPrevArrow.classList.toggle('hidden', individualCurrent === 0);
    individualNextArrow.classList.toggle('hidden', individualCurrent === individualTotal - 1);

    // Adjust card-stack height on mobile
    if (window.innerWidth <= 1024) {
      const activeCard = individualCards[individualCurrent];
      const cardStack = document.getElementById('individualCardStack');
      if (activeCard && cardStack) {
        setTimeout(() => {
          const cardHeight = activeCard.scrollHeight;
          cardStack.style.height = cardHeight + 'px';
        }, 50);
      }
    }
  }

  individualPrevArrow.addEventListener('click', () => {
    if (individualCurrent > 0) {
      individualCurrent--;
      updateIndividualCards();
    }
  });

  individualNextArrow.addEventListener('click', () => {
    if (individualCurrent < individualTotal - 1) {
      individualCurrent++;
      updateIndividualCards();
    }
  });

  individualDots.forEach((dot, i) => {
    dot.addEventListener('click', () => {
      individualCurrent = i;
      updateIndividualCards();
    });
  });

  // Initialize both decks
  updateBrandCards();
  updateIndividualCards();

  // Handle window resize to adjust card-stack height on mobile
  window.addEventListener('resize', () => {
    if (window.innerWidth <= 1024) {
      updateBrandCards();
      updateIndividualCards();
    } else {
      // Reset to auto on desktop
      document.getElementById('brandCardStack').style.height = '';
      document.getElementById('individualCardStack').style.height = '';
    }
  });
});
</script>
